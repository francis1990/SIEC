CREATE TABLE rep_actividades (id INT AUTO_INCREMENT NOT NULL, nombre_act VARCHAR(100) NOT NULL, nombre_tabla VARCHAR(100) NOT NULL, alias VARCHAR(100) NOT NULL, nombre_id_tabla VARCHAR(100) NOT NULL, nombre_tabla_princ VARCHAR(100) NOT NULL, nombre_id_tabla_princ VARCHAR(100) NOT NULL, es_parte TINYINT(1) DEFAULT NULL, es_plan TINYINT(1) DEFAULT NULL, es_nomenclador TINYINT(1) DEFAULT NULL, activo TINYINT(1) NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE rep_columnas_listas_datos (id INT AUTO_INCREMENT NOT NULL, id_listasdatos INT NOT NULL, id_indicador INT NOT NULL, seleccionada TINYINT(1) NOT NULL, orden INT NOT NULL, activo TINYINT(1) NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE rep_indicadores (id INT AUTO_INCREMENT NOT NULL, id_actividad INT NOT NULL, nombre VARCHAR(100) NOT NULL, nombre_campo VARCHAR(100) NOT NULL, id_tipodato INT NOT NULL, cant_decimales INT NOT NULL, nombre_tabla_fk VARCHAR(100) NOT NULL, nombre_campo_tabla_fk VARCHAR(100) NOT NULL, puede_ser_campo_fila TINYINT(1) DEFAULT NULL, puede_ser_campo_encabezado TINYINT(1) DEFAULT NULL, es_campo_valor TINYINT(1) DEFAULT NULL, es_campo_llave TINYINT(1) DEFAULT NULL, activo TINYINT(1) NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE rep_listas_datos (id INT AUTO_INCREMENT NOT NULL, nombre VARCHAR(100) NOT NULL, descripcion VARCHAR(100) NOT NULL, orden INT NOT NULL, activo TINYINT(1) NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE rep_dat_periodos (id INT AUTO_INCREMENT NOT NULL, ident VARCHAR(255) NOT NULL, descripcion VARCHAR(255) NOT NULL, diai INT NOT NULL, diaiv INT NOT NULL, mesi INT NOT NULL, mesiv INT NOT NULL, anoi INT NOT NULL, anoiv INT NOT NULL, diaf INT NOT NULL, diafv INT NOT NULL, mesf INT NOT NULL, mesfv INT NOT NULL, anof INT NOT NULL, anofv INT NOT NULL, activo TINYINT(1) NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE rep_reportes (id INT AUTO_INCREMENT NOT NULL, id_tiporeporte INT NOT NULL, nombre VARCHAR(100) NOT NULL, descripcion VARCHAR(100) NOT NULL, cant_columnas INT NOT NULL, mostrar_filas_encabezado LONGTEXT NOT NULL COMMENT '(DC2Type:json_array)', es_libre TINYINT(1) DEFAULT NULL, orden INT NOT NULL, activo TINYINT(1) NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE rep_reportes_columnas (id INT AUTO_INCREMENT NOT NULL, id_reporte INT NOT NULL, fila INT NOT NULL, col INT NOT NULL, decimales INT NOT NULL, formula VARCHAR(100) NOT NULL, descripcion_formula VARCHAR(100) NOT NULL, replica_formula_x_filas TINYINT(1) NOT NULL, activo TINYINT(1) NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE rep_reportes_encabezados (id INT AUTO_INCREMENT NOT NULL, id_reporte INT NOT NULL, id_columnaslistas_datos INT NOT NULL, utilizar_nombre_indicador TINYINT(1) NOT NULL, rotulo TINYINT(1) NOT NULL, para_filas_izquierda TINYINT(1) NOT NULL, fila INT NOT NULL, col INT NOT NULL, col_spam INT NOT NULL, row_spam INT NOT NULL, nombre_campo_UM VARCHAR(100) NOT NULL, mostrar_um TINYINT(1) NOT NULL, orden INT NOT NULL, activo TINYINT(1) NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE rep_reportes_filas (id INT AUTO_INCREMENT NOT NULL, id_reporte INT NOT NULL, id_columnaslistas_datos INT NOT NULL, nivel INT NOT NULL, col_mostrar INT NOT NULL, es_valor_variable TINYINT(1) NOT NULL, id_valor INT NOT NULL, valor DOUBLE PRECISION NOT NULL, nombre_tabla_fk VARCHAR(100) NOT NULL, nombre_columna_tabla_fk VARCHAR(100) NOT NULL, id_valor_padre INT NOT NULL, valor_padre DOUBLE PRECISION NOT NULL, orden INT NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE rep_reportes_filas_resumen (id INT AUTO_INCREMENT NOT NULL, id_reportesfilas INT NOT NULL, nivel INT NOT NULL, col_datos INT NOT NULL, funcion_resumen INT NOT NULL, activo TINYINT(1) NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE rep_tipos (id INT AUTO_INCREMENT NOT NULL, nombre VARCHAR(100) NOT NULL, descripcion VARCHAR(100) NOT NULL, activo TINYINT(1) NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE rep_periodos (id INT AUTO_INCREMENT NOT NULL, ident VARCHAR(255) NOT NULL, descripcion VARCHAR(255) NOT NULL, frecuencia INT NOT NULL, activo TINYINT(1) NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE rep_tipos_datos (id INT AUTO_INCREMENT NOT NULL, nombre VARCHAR(25) NOT NULL, nombre_real VARCHAR(25) NOT NULL, activo TINYINT(1) NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;

/*Generar datos de la tabla rep_actividades*/
DELETE FROM	rep_actividades;
/*Nomencladores*/
INSERT INTO rep_actividades VALUES (1,'Almacén','nom_almacen','alm','idalmacen',NULL,NULL,NULL,NULL,TRUE,TRUE);
INSERT INTO rep_actividades VALUES (2,'Aseguramiento','nom_aseguramiento','aseg','idaseguramiento',NULL,NULL,NULL,NULL,TRUE,TRUE);
INSERT INTO rep_actividades VALUES (3,'Clasificación de Incidencias','nom_clasificacion_incidencia','clasifi','id',NULL,NULL,NULL,NULL,TRUE,TRUE);
INSERT INTO rep_actividades VALUES (4,'Concepto','nom_concepto','concep','idconcepto',NULL,NULL,NULL,NULL,TRUE,TRUE);
INSERT INTO rep_actividades VALUES (5,'Conversión','nom_conversion','conv','idconversion',NULL,NULL,NULL,NULL,TRUE,TRUE);
INSERT INTO rep_actividades VALUES (6,'Cuenta contable','nom_cuentacontable','ctac','idcuentacontable',NULL,NULL,NULL,NULL,TRUE,TRUE);
INSERT INTO rep_actividades VALUES (7,'División política administrativa','nom_dpa','dpa','iddpa',NULL,NULL,NULL,NULL,TRUE,TRUE);
INSERT INTO rep_actividades VALUES (8,'Ejercicio','nom_ejercicio','ejer','idejercicio',NULL,NULL,NULL,NULL,TRUE,TRUE);
INSERT INTO rep_actividades VALUES (9,'Entidad','nom_entidad','ent','identidad',NULL,NULL,NULL,NULL,TRUE,TRUE);
INSERT INTO rep_actividades VALUES (10,'Específico','nom_especifico','ent','idespecifico',NULL,NULL,NULL,NULL,TRUE,TRUE);
INSERT INTO rep_actividades VALUES (11,'Formato','nom_entidad','ent','identidad',NULL,NULL,NULL,NULL,TRUE,TRUE);
INSERT INTO rep_actividades VALUES (12,'Genérico','nom_generico','gen','idgenerico',NULL,NULL,NULL,NULL,TRUE,TRUE);
INSERT INTO rep_actividades VALUES (13,'Grupo interés','nom_grupointeres','grupo','idgrupointeres',NULL,NULL,NULL,NULL,TRUE,TRUE);
INSERT INTO rep_actividades VALUES (14,'Medidor','nom_medidor','med','id',NULL,NULL,NULL,NULL,TRUE,TRUE);
INSERT INTO rep_actividades VALUES (15,'Moneda/Destino','nom_monedadestino','mon','id',NULL,NULL,NULL,NULL,TRUE,TRUE);
INSERT INTO rep_actividades VALUES (16,'Norma','nom_norma','norma','idnorma',NULL,NULL,NULL,NULL,TRUE,TRUE);
INSERT INTO rep_actividades VALUES (17,'Portador enérgetico','nom_medidor','med','id',NULL,NULL,NULL,NULL,TRUE,TRUE);
INSERT INTO rep_actividades VALUES (18,'Precio','nom_precio','prec','id',NULL,NULL,NULL,NULL,TRUE,TRUE);
INSERT INTO rep_actividades VALUES (19,'Producto','nom_producto','pro','idproducto',NULL,NULL,NULL,NULL,TRUE,TRUE);
INSERT INTO rep_actividades VALUES (20,'Ruta','nom_ruta','rut','idruta',NULL,NULL,NULL,NULL,TRUE,TRUE);
INSERT INTO rep_actividades VALUES (21,'Sabor','nom_sabor','sab','idsabor',NULL,NULL,NULL,NULL,TRUE,TRUE);
INSERT INTO rep_actividades VALUES (22,'Subgenérico','nom_subgenerico','sgen','idsubgenerico',NULL,NULL,NULL,NULL,TRUE,TRUE);
INSERT INTO rep_actividades VALUES (23,'Tipo entidad','nom_tipo_entidad','tent','idtipoentidad',NULL,NULL,NULL,NULL,TRUE,TRUE);
INSERT INTO rep_actividades VALUES (24,'Tipo incidencia','nom_tipo_incidencia','tincid','idtipoincidencia',NULL,NULL,NULL,NULL,TRUE,TRUE);
INSERT INTO rep_actividades VALUES (25,'Tipo norma','nom_tipo_norma','tnor','id',NULL,NULL,NULL,NULL,TRUE,TRUE);
INSERT INTO rep_actividades VALUES (26,'Tipo plan','nom_tipo_plan','tplan','idtipoplan',NULL,NULL,NULL,NULL,TRUE,TRUE);
INSERT INTO rep_actividades VALUES (27,'Tipo portador','nom_tipo_portador','tpor','idtipoportador',NULL,NULL,NULL,NULL,TRUE,TRUE);
INSERT INTO rep_actividades VALUES (28,'Tipo específico','nom_tipoespecifico','tesp','idtipoespecifico',NULL,NULL,NULL,NULL,TRUE,TRUE);
INSERT INTO rep_actividades VALUES (29,'Tipo transporte','nom_tipotransporte','ttrans','idtipoplan',NULL,NULL,NULL,NULL,TRUE,TRUE);
INSERT INTO rep_actividades VALUES (30,'Unidades Empresariales de Base','nom_ueb','ueb','idueb',NULL,NULL,NULL,NULL,TRUE,TRUE);
INSERT INTO rep_actividades VALUES (31,'Unidad de medida','nom_unidadmedida','um','idunidadmedida',NULL,NULL,NULL,NULL,TRUE,TRUE);
UPDATE rep_actividades SET nombre_act = CONCAT('Datos generales del Nomenclador de ',nombre_act) WHERE id < 32;
/*Planes*/
INSERT INTO rep_actividades VALUES (32,'Acopio','dat_plan_acopio','pacop','idplanacopio',NULL,NULL,NULL,TRUE,NULL,TRUE);
INSERT INTO rep_actividades VALUES (33,'Desvío','dat_plan_acopiodestino','pdesv','idplanacopiodestino',NULL,NULL,NULL,TRUE,NULL,TRUE);
INSERT INTO rep_actividades VALUES (34,'Aseguramiento','dat_plan_aseguramiento','paseg','idplanaseguramiento',NULL,NULL,NULL,TRUE,NULL,TRUE);
INSERT INTO rep_actividades VALUES (35,'Portador enérgetico','dat_plan_portador','pport','idplanportador',NULL,NULL,NULL,TRUE,NULL,TRUE);
INSERT INTO rep_actividades VALUES (36,'Nivel de actividad','dat_plan_produccion','pniv','idplanproduccion',NULL,NULL,NULL,TRUE,NULL,TRUE);
INSERT INTO rep_actividades VALUES (37,'Ventas','dat_plan_venta','pvent','idplanventa',NULL,NULL,NULL,TRUE,NULL,TRUE);
UPDATE rep_actividades SET nombre_act = CONCAT('Datos generales del Plan de ',nombre_act) WHERE id BETWEEN 32 AND 37;
/*Partes*/
INSERT INTO rep_actividades VALUES (38,'Datos generales de los Partes','dat_parte','part','idparte',NULL,NULL,TRUE,NULL,NULL,TRUE);
INSERT INTO rep_actividades VALUES (39,'Acopio','dat_parte_acopio','pacop','idparte','dat_parte','idparte',TRUE,NULL,NULL,TRUE);
INSERT INTO rep_actividades VALUES (40,'Aseguramiento','dat_parte_aseguramiento','paseg','idparte','dat_parte','idparte',TRUE,NULL,NULL,TRUE);
INSERT INTO rep_actividades VALUES (41,'Consumo de materias primas','dat_parte_consaseg','pcons','idparte','dat_parte','idparte',TRUE,NULL,NULL,TRUE);
INSERT INTO rep_actividades VALUES (42,'Cuentas por cobrar','dat_parte_cuentascobrar','pcta','idparte','dat_parte','idparte',TRUE,NULL,NULL,TRUE);
INSERT INTO rep_actividades VALUES (43,'Economía','dat_parte_economia','pecon','idparte','dat_parte','idparte',TRUE,NULL,NULL,TRUE);
INSERT INTO rep_actividades VALUES (44,'Mercancía por vínculo','dat_parte_mervinculo','pmerc','idparte','dat_parte','idparte',TRUE,NULL,NULL,TRUE);
INSERT INTO rep_actividades VALUES (45,'Movimiento de almacén','dat_parte_movalm','palm','idparte','dat_parte','idparte',TRUE,NULL,NULL,TRUE);
INSERT INTO rep_actividades VALUES (46,'Portador energético','dat_parte_portador','pport','idparte','dat_parte','idparte',TRUE,NULL,NULL,TRUE);
INSERT INTO rep_actividades VALUES (47,'Nivel de actividad','dat_parte_produccion','pnivact','idparte','dat_parte','idparte',TRUE,NULL,NULL,TRUE);
INSERT INTO rep_actividades VALUES (48,'Transporte','dat_parte_transporte','ptrans','idparte','dat_parte','idparte',TRUE,NULL,NULL,TRUE);
INSERT INTO rep_actividades VALUES (49,'Venta','dat_parte_venta','pvent','idparte','dat_parte','idparte',TRUE,NULL,NULL,TRUE);
UPDATE rep_actividades SET nombre_act = CONCAT('Datos generales del Parte de ',nombre_act) WHERE id BETWEEN 39 AND 49;
INSERT INTO rep_actividades VALUES (50,'Aseguramientos por Productos del Parte de Normas de Consumo','dat_parteconsumo_aseg','pconsaseg','idconsumoaseg','dat_parte_consaseg','idparte',TRUE,NULL,NULL,TRUE);

/*Generar datos de la tabla rep_tipos_datos*/
DELETE FROM	rep_tipos_datos;
/*Tipos de datos*/
INSERT INTO rep_tipos_datos VALUES (1,'numerico','Númerico',TRUE);
INSERT INTO rep_tipos_datos VALUES (2,'alfanumerico','Alfnúmerico',TRUE);
INSERT INTO rep_tipos_datos VALUES (3,'logico','Lógico',TRUE);
INSERT INTO rep_tipos_datos VALUES (4,'fecha','Fecha',TRUE);
INSERT INTO rep_tipos_datos VALUES (5,'fechahora','Fecha y hora',TRUE);
