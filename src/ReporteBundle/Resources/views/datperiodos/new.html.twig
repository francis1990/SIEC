{% extends 'ReporteBundle:Default:reportadeor.html.twig' %}
{% block titulo_cont %}
    <li><a href="{{ path('portada') }}">Inicio</a></li>
    <li><a href="#">Reporteador</a></li>
    <li><a href="{{ path('datperiodos_index') }}">Periodos</a></li>
    <li><a class="active">{{ accion }}</a></li>
{% endblock %}

{% block contenido %}
<section class="content">
    <div class="row">
        <div class="col-md-12">
            <div class="box box-primary ">
                <div class="box-body">
                    {{ form_start(form,{'attr':{ 'id':'formperiodo','class':'form-edit' } }) }}
                    <div class=" bootstrap-validator-form">
                        <fieldset>
                            <div class="form-group col-sm-6 col-xs-10">
                                <label for="ident"
                                       class="control-label  col-sm-4"> {{ form_label(form.ident) }}</label>
                                <div class="col-sm-8">
                                    {{ form_widget(form.ident) }}
                                    {{ form_errors(form.ident) }}
                                </div>
                            </div>
                            <div class="form-group col-sm-6 col-xs-10">
                                <label for="diaf"
                                       class="control-label  col-sm-4"> {{ form_label(form.diaf) }}</label>
                                <div class="col-sm-8">
                                    {{ form_widget(form.diaf) }}
                                    {{ form_errors(form.diaf) }}
                                </div>
                            </div>
                            <div class="clearfix"></div>
                            <div class="form-group col-sm-6 col-xs-10">
                                <label for="diai"
                                       class="control-label  col-sm-4"> {{ form_label(form.diai) }}</label>
                                <div class="col-sm-8">
                                    {{ form_widget(form.diai) }}
                                    {{ form_errors(form.diai) }}
                                </div>
                            </div>
                            <div class="form-group col-sm-6 col-xs-10">
                                <label for="mesf"
                                       class="control-label  col-sm-4">{{ form_label(form.mesf) }}</label>
                                <div class="col-sm-8">
                                    {{ form_widget(form.mesf) }}
                                    {{ form_errors(form.mesf) }}
                                </div>
                            </div>
                            <div class="form-group col-sm-6 col-xs-10">
                                <label for="mesi"
                                       class="control-label  col-sm-4">{{ form_label(form.mesi) }}</label>
                                <div class="col-sm-8">
                                    {{ form_widget(form.mesi) }}
                                    {{ form_errors(form.mesi) }}
                                </div>
                            </div>

                            <div class="form-group col-sm-6 col-xs-10">
                                <label for="anoi"
                                       class="control-label  col-sm-4"> {{ form_label(form.anoi) }}</label>
                                <div class="col-sm-8">
                                    {{ form_widget(form.anoi) }}
                                    {{ form_errors(form.anoi) }}
                                </div>
                            </div>

                            <div class="form-group col-sm-6 col-xs-10">
                                <label for="anof"
                                       class="control-label  col-sm-4"> {{ form_label(form.anof) }}</label>
                                <div class="col-sm-8">
                                    {{ form_widget(form.anof) }}
                                    {{ form_errors(form.anof) }}
                                </div>
                            </div>

                            <div class="form-group col-xs-10">
                                <label for="descripcion"
                                       class="control-label  "> {{ form_label(form.descripcion) }}</label>
                                <div class="">
                                    {{ form_widget(form.descripcion) }}
                                    {{ form_errors(form.descripcion) }}
                                </div>
                            </div>
                            <div class="clearfix"></div>
                        </fieldset>

                        <fieldset>
                            <div class="form-group">
                                <div class="col-sm-4 col-xs-12  col-sm-offset-8">
                                    {% if accion == "Adicionar" %}
                                        <button type="submit" id="btn_agregar" title="Guardar"
                                                class="btn btn-primary disabled">
                                            <i class="glyphicon glyphicon-save icon-white"> </i> Guardar</button>
                                    {% endif %}
                                    {{ form_widget(form.aceptar) }}
                                    <a href="{{ path('datperiodos_index') }}"  id="btn_cerrar"
                                       data-url="{{ path('datperiodos_index') }}"
                                       class="btn btn-default editcerrar">
                                        <i class="glyphicon glyphicon-remove icon-white"></i>
                                        Cancelar
                                    </a>

                                </div>
                            </div>
                        </fieldset>
                    </div>

                    {{ form_end(form) }}
                </div>
                <!-- /.box-body -->
            </div>
        </div>
    </div>
</section>
{% endblock %}
{% block javascripts %}
    {{ parent() }}
    <script type="text/javascript">
        var form=$('form#formperiodo')
        form.on('keyup change', null, function () {
            if ($('form#formperiodo').valid() &&
                $('#dat_periodos_diai').val() !== '' &&
                $('#dat_periodos_diaif').val() !== '' &&
                $('#dat_periodos_mesi').val() !== ''
                && $('#dat_periodos_mesif').val() !== ''
                && $('#dat_periodos_anoi').val() !== ''
                && $('#dat_periodos_anof').val() !== '')
                $('#btn_aceptar,#btn_agregar').removeClass('disabled');
            else
                $('#btn_aceptar,#btn_agregar').addClass('disabled')
        });

        form.submit(function () {
            lock_screen();
            $(".chosen-select").removeAttr('disabled');
        });

    </script>
{% endblock %}